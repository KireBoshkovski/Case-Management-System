<div>
    @if (caseData) {
        <header>
            <h1>Case #{{ caseData.id }}</h1>
            <span>{{ caseData.status }}</span>
        </header>

        <section>
            <h2>Case Information</h2>
            <div>
                <div>
                    <label>Blood Type:</label>
                    <span>{{ caseData.bloodType || "Not specified" }}</span>
                </div>
                <div>
                    <label>Created:</label>
                    <span>{{ formatDate(caseData.createdAt) }}</span>
                </div>
                <div>
                    <label>Last Updated:</label>
                    <span>{{ formatDate(caseData.updatedAt) }}</span>
                </div>
            </div>

            @if (caseData.description) {
                <div>
                    <label>Description:</label>
                    <p>{{ caseData.description }}</p>
                </div>
            }

            @if (caseData.allergies) {
                <div>
                    <label>Allergies:</label>
                    <p>{{ caseData.allergies }}</p>
                </div>
            }

            @if (caseData.treatmentPlan) {
                <div>
                    <label>Treatment Plan:</label>
                    <p>{{ caseData.treatmentPlan }}</p>
                </div>
            }
        </section>

        @if (caseData.patient) {
            <section>
                <h2>Patient Information</h2>
                <div>
                    <div>
                        <label>Patient ID:</label>
                        <span>{{ caseData.patient.id }}</span>
                    </div>
                    <div>
                        <label>Name:</label>
                        <span>{{ caseData.patient.firstName }}</span>
                    </div>
                    <div>
                        <label>Last Name:</label>
                        <span>{{ caseData.patient.lastName }}</span>
                    </div>
                </div>
            </section>
        }

        @if (caseData.doctor) {
            <section>
                <h2>Doctor Information</h2>
                <div>
                    <div>
                        <label>Doctor ID:</label>
                        <span>{{ caseData.doctor.id }}</span>
                    </div>
                    <div>
                        <label>First Name:</label>
                        <span>{{ caseData.doctor.firstName }}</span>
                    </div>
                    <div>
                        <label>Last Name:</label>
                        <span>{{ caseData.doctor.lastName }}</span>
                    </div>
                </div>
            </section>
        }

        @if (caseData.examinations && caseData.examinations.length > 0) {
            <h2>Examinations: {{ caseData.examinations.length }}</h2>

            <list
                [items]="caseData.examinations"
                [columns]="examinationColumns"
                routePrefix="examinations"
            ></list>
        }

        @if (caseData.publishedCase) {
            <section>
                <h2>Published Case</h2>
                <div>
                    <div>
                        <label>Published Case ID:</label>
                        <span>{{ caseData.publishedCase.id }}</span>
                    </div>
                </div>
            </section>
        }
    }
</div>
