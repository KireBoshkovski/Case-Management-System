-- CREATE TABLE cases
-- (
--     case_id        BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     is_public      BOOLEAN                                 NOT NULL,
--     blood_type     VARCHAR(5),
--     allergies      TEXT,
--     description    TEXT,
--     treatment_plan TEXT,
--     status         VARCHAR(255)                            NOT NULL,
--     created_at     TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
--     updated_at     TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
--     patient_id     BIGINT,
--     doctor_id      BIGINT,
--     CONSTRAINT pk_cases PRIMARY KEY (case_id)
-- );
--
-- CREATE TABLE doctors
-- (
--     doctor_id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     first_name     VARCHAR(100)                            NOT NULL,
--     last_name      VARCHAR(100)                            NOT NULL,
--     specialization VARCHAR(100)                            NOT NULL,
--     phone_number   VARCHAR(20),
--     email          VARCHAR(100)                            NOT NULL,
--     department     VARCHAR(100),
--     CONSTRAINT pk_doctors PRIMARY KEY (doctor_id)
-- );
--
-- CREATE TABLE examinations
-- (
--     examination_id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     examination_type VARCHAR(100)                            NOT NULL,
--     findings         TEXT,
--     results          TEXT,
--     notes            TEXT,
--     vital_signs      JSON,
--     examination_date TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
--     doctor_id        BIGINT,
--     case_id          BIGINT,
--     CONSTRAINT pk_examinations PRIMARY KEY (examination_id)
-- );
--
-- CREATE TABLE forks
-- (
--     id                    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     fork_title            VARCHAR(200)                            NOT NULL,
--     fork_description      TEXT,
--     alternative_diagnosis TEXT,
--     alternative_treatment TEXT,
--     analysis_notes        TEXT,
--     recommendations       TEXT,
--     case_id               BIGINT,
--     doctor_id             BIGINT,
--     CONSTRAINT pk_forks PRIMARY KEY (id)
-- );
--
-- CREATE TABLE patients
-- (
--     patient_id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
--     first_name    VARCHAR(100)                            NOT NULL,
--     last_name     VARCHAR(100)                            NOT NULL,
--     date_of_birth date                                    NOT NULL,
--     gender        VARCHAR(10),
--     phone_number  VARCHAR(20),
--     email         VARCHAR(50),
--     address       TEXT,
--     CONSTRAINT pk_patients PRIMARY KEY (patient_id)
-- );
--
-- ALTER TABLE examinations
--     ADD CONSTRAINT uc_examinations_doctor UNIQUE (doctor_id);
--
-- ALTER TABLE forks
--     ADD CONSTRAINT uc_forks_doctor UNIQUE (doctor_id);
--
-- ALTER TABLE cases
--     ADD CONSTRAINT FK_CASES_ON_DOCTOR FOREIGN KEY (doctor_id) REFERENCES doctors (doctor_id);
--
-- ALTER TABLE cases
--     ADD CONSTRAINT FK_CASES_ON_PATIENT FOREIGN KEY (patient_id) REFERENCES patients (patient_id);
--
-- ALTER TABLE examinations
--     ADD CONSTRAINT FK_EXAMINATIONS_ON_CASE FOREIGN KEY (case_id) REFERENCES cases (case_id);
--
-- ALTER TABLE examinations
--     ADD CONSTRAINT FK_EXAMINATIONS_ON_DOCTOR FOREIGN KEY (doctor_id) REFERENCES doctors (doctor_id);
--
-- ALTER TABLE forks
--     ADD CONSTRAINT FK_FORKS_ON_CASE FOREIGN KEY (case_id) REFERENCES cases (case_id);
--
-- ALTER TABLE forks
--     ADD CONSTRAINT FK_FORKS_ON_DOCTOR FOREIGN KEY (doctor_id) REFERENCES doctors (doctor_id);